<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>XTREME 3D</title>
    <style type="text/css"></style>
	<link rel="stylesheet" href="assets/css/cotizar.css">
    <script src="jspdf/js/jquery/jquery-1.7.1.min.js"></script>
    <script src="jspdf/js/jquery/jquery-ui-1.8.17.custom.min.js"></script>
    <script src="jspdf/jspdf.js"></script>
    <script src="jspdf/jspdf.plugin.standard_fonts_metrics.js"></script>
    <script src="jspdf/jspdf.plugin.split_text_to_size.js"></script>
    <script src="jspdf/jspdf.plugin.from_html.js"></script>
    <script>
        function generar()
        {
            var doc = new jsPDF();
            var id = Math.floor(Math.random() * 1000) + 1 + (Math.floor(Math.random() * 10) * 1000);
            var material = document.getElementById("material").value;
            var fullPath = document.getElementById('modelfile').value;
            if (fullPath) {
                var startIndex = (fullPath.indexOf('\\') >= 0 ? fullPath.lastIndexOf('\\') : fullPath.lastIndexOf('/'));
                var filename = fullPath.substring(startIndex);
                if (filename.indexOf('\\') === 0 || filename.indexOf('/') === 0) {
                filename = filename.substring(1);
                }
            }
            var colors = document.getElementsByName("color");
            var c;
            for(i=0;i<colors.length;i++)
            {
                if(colors[i].checked)
                {
                    c = colors[i].value;
                }
            }
            var heights = document.getElementsByName("height");
            var h;
            for(i=0;i<heights.length;i++)
            {
                if(heights[i].checked)
                {
                    h = heights[i].value;
                }
            }
            doc.setFontSize(36);
            doc.setTextColor(0,0,0);
            doc.text(20,15,"XTREME 3D");
            doc.setFontSize(30);
            doc.text(20,25,"Comprobante de cotizacion.");
            doc.setFontSize(12);
            doc.text(20,50, "ID de cotizacion: " + id);
            doc.text(20,55, "Nombre del archivo: " + filename);
            doc.text(20,60, "Material a utilizar: " + material);
            doc.text(20,65, "Color de filamento: " + c);
            doc.text(20,70, "Altura de capa: " + h);
            doc.text(20,120, "Si tienes dudas sobre el proceso de cotizacion no dudes en escribir un correo a hola@xtreme3d.com.mx")
            var string = doc.output('datauristring');
            $('iframe').attr('src', string);
        }
    </script>
</head>
<body>
    <div class="contenedor">
        <div class="topbar">
            <div class="logo">
                <img src="assets/img/logo.png" alt="">
            </div>
            <div class="socialMedia">
                <img src="assets/img/FB.svg" alt="" >
                <img src="assets/img/WA.svg" alt="" >
                <img src="assets/img/IS.svg" alt="" >
            </div>
            <div class="shoppingCart">
            </div>
        </div>
        <div class="navbar">
            <a href="index.html" class="navButton">Inicio</a>
            <a href="" class="navButton">Productos 3D</a>
            <a href="cotizar.html" class="selected">Cotizar impresion 3D</a>
            <a href="" class="navButton">Contactanos</a>
        </div>
        <div>
            <form action="mailto:cotizar@xtreme3D.com.mx" method="post">
                <label for="modelfile">Sube tu modelo:* </label>
                <input type="file" name="modelfile" id="modelfile" required accept=".stl"> <br><br>
                Material a utilizar:*
                <select name="material" id="material" required>
                    <option value="PLA">PLA</option>
                    <option value="ABS">ABS</option>
                    <option value="TPU">TPU</option>
                </select>
                <br><br>
                Color:*
                <br>
                <label for="color_green"><span style="color: forestgreen; font-size: 3vh;">&#9632;</span> Verde</label>
                <input type="radio" name="color" id="color_green" required value="verde">
                <label for="color_red"><span style="color: red; font-size: 3vh;">&#9632;</span> Rojo</label>
                <input type="radio" name="color" id="color_red" required value="rojo">
                <label for="color_lightgray"><span style="color: lightgray; font-size: 3vh;">&#9632;</span> Gris claro</label>
                <input type="radio" name="color" id="color_lightgray" required value="gris claro">
                <label for="color_block"><span style="color: black; font-size: 3vh;">&#9632;</span> Negro</label>
                <input type="radio" name="color" id="color_black" required value="negro">
                <br><br>
                Altura de capa:* <br>
                <label for="height_10mm">Fino (10mm)</label>
                <input type="radio" name="height" id="height_10mm" value="10mm" required>
                <label for="height_20mm">Normal (20mm)</label>
                <input type="radio" name="height" id="height_20mm" value="20mm" required>
                <label for="height_30mm">Borrador (30mm)</label>
                <input type="radio" name="height" id="height_30mm" value="30mm" required>
                <br><br>
                <input type="submit" value="Solicitar cotizacion">
                <input type="button" value="Solicitar comprobante de entrega" onclick="generar()">
            </form>
        </div>

        <h3>Comprobante de envio</h3>
        <iframe src="" name="comprobante" width="700" height="900" frameborder="0"></iframe>


        <footer style="margin-top: 128px;">
            Pagina web desarrollada para la materia de Programacion Web 1.
            Primavera 2025. Universidad Politecnica de San Luis Potosi
            <br>
            <a href="../index.html">Volver al portafolio de evidencias</a>
        </footer>
    </div>
</body>

<script>

</script>
</html>